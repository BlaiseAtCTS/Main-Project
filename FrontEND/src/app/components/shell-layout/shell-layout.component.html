<div class="min-h-screen bg-gray-50 dark:bg-gray-900">
  <!-- Header -->
  <header class="sticky top-0 z-40 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 shadow-sm">
    <div class="flex items-center justify-between px-4 py-3">
      <div class="flex items-center gap-4">
        <!-- Menu Button -->
        <button
          (click)="toggleSidebar()"
          class="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors"
          aria-label="Toggle menu"
        >
          <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>

        <!-- Logo -->
        <a routerLink="/" class="flex items-center gap-2">
          <svg class="h-8 w-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
          </svg>
          <span class="text-xl font-bold text-gray-900 dark:text-white">IndiaShield Bank</span>
        </a>
      </div>

      <!-- User Info -->
      <div *ngIf="isAuthenticated()" class="flex items-center gap-3">
        <span class="text-sm text-gray-700 dark:text-gray-300 hidden sm:block">{{ username() }}</span>
        <button
          (click)="logout()"
          class="px-3 py-1.5 text-sm bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/30 rounded-md transition-colors"
        >
          Logout
        </button>
      </div>
    </div>

    <!-- Breadcrumbs -->
    <div *ngIf="breadcrumbs().length > 0" class="px-4 pb-3">
      <ui-breadcrumbs [items]="breadcrumbs()"></ui-breadcrumbs>
    </div>
  </header>

  <!-- Sidebar Sheet -->
  <ui-sheet
    [open]="sidebarOpen()"
    (openChange)="sidebarOpen.set($event)"
    title="Navigation"
    side="left"
    size="md"
  >
    <nav class="space-y-1">
      <a
        *ngFor="let item of visibleNavItems()"
        [routerLink]="item.route"
        routerLinkActive="bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300"
        (click)="closeSidebar()"
        class="flex items-center gap-3 px-3 py-2.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-700 dark:text-gray-300"
      >
        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="getIconPath(item.icon)" />
        </svg>
        <span class="font-medium">{{ item.label }}</span>
      </a>
    </nav>

    <!-- Account Actions - Only visible to regular users -->
    <div *ngIf="!isAdmin()" class="mt-6 pt-6 border-t border-gray-200 dark:border-gray-700">
      <div class="text-xs text-gray-500 dark:text-gray-400 px-3 mb-2">Account Actions</div>
      <a
        routerLink="/accounts/create"
        routerLinkActive="bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300"
        (click)="closeSidebar()"
        class="flex items-center gap-3 px-3 py-2.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-700 dark:text-gray-300"
      >
        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
        </svg>
        <span class="font-medium">Create New Account</span>
      </a>
      <a
        routerLink="/accounts/deposit"
        routerLinkActive="bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300"
        (click)="closeSidebar()"
        class="flex items-center gap-3 px-3 py-2.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-700 dark:text-gray-300"
      >
        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8l-8 8-8-8" />
        </svg>
        <span class="font-medium">Deposit Money</span>
      </a>
      <a
        routerLink="/accounts/withdraw"
        routerLinkActive="bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300"
        (click)="closeSidebar()"
        class="flex items-center gap-3 px-3 py-2.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-700 dark:text-gray-300"
      >
        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 20V4m8 8l-8-8-8 8" />
        </svg>
        <span class="font-medium">Withdraw Money</span>
      </a>
    </div>
  </ui-sheet>

  <!-- Main Content -->
  <main class="mx-auto max-w-7xl">
    <router-outlet></router-outlet>
  </main>
</div>
